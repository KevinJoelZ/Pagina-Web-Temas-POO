<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Fundamentos - POO</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header class="site-header">
    <nav class="navbar">
      <div class="brand"><a href="index.html">POO</a></div>
      <ul class="nav-links">
        <li><a href="index.html">Inicio</a></li>
        <li><a href="fundamentos.html">Fundamentos</a></li>
        <li><a href="instanciacion.html">Instanciaci√≥n</a></li>
        <li><a href="herencia.html">Herencia</a></li>
        <li><a href="ejercicios.html">Ejercicios</a></li>
      </ul>
    </nav>
  </header>

  <main class="content">
    <h1>Fundamentos de la Programaci√≥n Orientada a Objetos</h1>

    <p>En esta p√°gina profundizaremos en <strong>Encapsulaci√≥n</strong> y <strong>Abstracci√≥n</strong>. Ver√°s definiciones formales, ventajas, buenas pr√°cticas en Java, diagramas ilustrativos y ejemplos pr√°cticos listos para ejecutar.</p>

    <section id="encapsulacion">
      <h2>Encapsulaci√≥n</h2>
      <p><strong>Definici√≥n:</strong> La encapsulaci√≥n es el mecanismo de <em>ocultar</em> los datos internos de una clase y exponer s√≥lo lo necesario mediante una interfaz p√∫blica. Esto protege la integridad del objeto y permite cambiar la implementaci√≥n interna sin afectar a los consumidores del objeto.</p>

      <h3>¬øPor qu√© es importante?</h3>
      <ul>
        <li>Protege invariantes del objeto (por ejemplo, que un saldo no sea negativo).</li>
        <li>Reduce el acoplamiento entre m√≥dulos.</li>
        <li>Permite validar y sanitizar datos en puntos controlados (setters o constructores).</li>
        <li>Facilita el mantenimiento y la evoluci√≥n del c√≥digo.</li>
      </ul>

      <div class="figure">
        <svg class="svg-illustration" viewBox="0 0 700 180" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Encapsulaci√≥n - diagrama">
          <rect x="6" y="6" width="688" height="168" rx="14" fill="#ffffff" stroke="#dceffd" />
          <text x="26" y="36" font-size="16" fill="#0f1724" font-weight="700">BankAccount (encapsulado)</text>
          <text x="40" y="66" font-size="13" fill="#374151">Campos privados: balance, owner</text>
          <text x="40" y="86" font-size="13" fill="#374151">M√©todos p√∫blicos: deposit(), withdraw(), getBalance()</text>
          <g>
            <rect x="480" y="46" width="176" height="86" rx="8" fill="#f1f9ff" stroke="#c8e4ff" />
            <text x="494" y="72" font-size="12" fill="#0f1724">API p√∫blica</text>
            <text x="494" y="92" font-size="12" fill="#374151">(lo que usan otras clases)</text>
          </g>
          <path d="M 420 80 L 480 80" stroke="#9aaed0" stroke-width="2" stroke-dasharray="6 4" />
          <text x="332" y="120" font-size="11" fill="#6b7280">Implementaci√≥n interna oculta</text>
        </svg>
      </div>

      <h3>Modificadores de acceso en Java</h3>
      <p>Usa <code>private</code> para datos internos; m√©todos p√∫blicos (<code>public</code>) para la interfaz; <code>protected</code> cuando quieras permitir acceso a subclases dentro del paquete; el modificador por defecto (package-private) restringe al paquete. Prefiere mantener el m√≠nimo acceso necesario.</p>

      <h3>Ejemplo pr√°ctico (BankAccount)</h3>
      <pre><code class="language-java">public class BankAccount {
    private double balance; // estado encapsulado
    private final String owner;

    public BankAccount(String owner, double initial) {
        this.owner = owner;
        this.balance = Math.max(0, initial);
    }

    public String getOwner() { return owner; }

    public double getBalance() { return balance; }

    public void deposit(double amount) {
        if (amount &gt; 0) balance += amount;
    }

    public boolean withdraw(double amount) {
        if (amount &gt; 0 &amp;&amp; amount &lt;= balance) {
            balance -= amount;
            return true;
        }
        return false;
    }

    // m√©todo interno no accesible desde fuera
    private boolean hasSufficientFunds(double amount) {
        return amount &lt;= balance;
    }
}
</code></pre>

      <p>Observa c√≥mo mantenemos la l√≥gica (validaciones y estados) dentro de la clase.</p>

      <h3>Cards de Refuerzo: Encapsulaci√≥n</h3>
      <div class="cards-grid-teoricos">
        <div class="card-teorico">
          <h4>Modificadores de Acceso</h4>
          <p><code>private</code>: solo la clase. <code>protected</code>: clase y subclases. <code>public</code>: cualquier lugar. <code>default</code>: mismo paquete. Usa siempre el m√°s restrictivo posible para maximizar la seguridad del c√≥digo y ocultar detalles de implementaci√≥n.</p>
        </div>
        <div class="card-teorico">
          <h4>Getters y Setters</h4>
          <p>Proporcionan control sobre atributos privados. Los setters pueden validar datos antes de asignar, garantizando invariantes. Los getters pueden retornar copias defensivas para evitar mutaciones externas no deseadas del estado interno.</p>
        </div>
        <div class="card-teorico">
          <h4>Inmutabilidad</h4>
          <p>Las clases inmutables no pueden cambiar despu√©s de su creaci√≥n. Usa <code>final</code> en atributos y no proporciones setters. Beneficios: seguridad en multi-threading, cach√© seguro y l√≥gica m√°s predecible.</p>
        </div>
      </div>

      <h3>C√≥mo usar Encapsulaci√≥n en la Pr√°ctica</h3>
      <div class="info-box">
        <ol>
          <li><strong>Declara atributos como privados:</strong> usa <code>private</code> para todos los datos internos que no necesiten acceso externo directo.</li>
          <li><strong>Proporciona m√©todos p√∫blicos:</strong> crea getters para lectura y setters para escritura, ambos con validaci√≥n si es necesario.</li>
          <li><strong>Valida en los setters:</strong> aseg√∫rate de que los datos cumplan con las reglas de negocio antes de ser asignados.</li>
          <li><strong>Retorna copias en getters:</strong> cuando regreses objetos mutables (como listas), retorna copias para evitar modificaciones externas no deseadas.</li>
          <li><strong>Usa constructores para inicializar:</strong> inicializa el estado v√°lido del objeto desde el constructor.</li>
        </ol>
      </div>

      <h3>Buenas Pr√°cticas de Encapsulaci√≥n</h3>
      <div class="cards-grid-teoricos">
        <div class="card-teorico">
          <h4>Principio de M√≠nimo Privilegio</h4>
          <p>Solo expone lo necesario. Evita hacer p√∫blicos atributos o m√©todos internos. Cada exposici√≥n innecesaria aumenta el acoplamiento y dificulta el mantenimiento futuro del c√≥digo.</p>
        </div>
        <div class="card-teorico">
          <h4>Validaci√≥n de Datos</h4>
          <p>Realiza validaciones robustas en constructores y setters. Lanza excepciones con mensajes claros cuando los datos no cumplan con los requisitos. Ejemplo: lanzar <code>IllegalArgumentException</code> si un saldo es negativo.</p>
        </div>
        <div class="card-teorico">
          <h4>Documentaci√≥n Clara</h4>
          <p>Documenta con Javadoc los m√©todos p√∫blicos indicando qu√© validan, qu√© excepciones pueden lanzar y qu√© retornan. Facilita el uso correcto por otros programadores.</p>
        </div>
        <div class="card-teorico">
          <h4>Copias Defensivas</h4>
          <p>Cuando regreses objetos mutables (listas, arrays), retorna copias en lugar del original. As√≠ evitas que c√≥digo externo modifique el estado interno sin pasar por los setters validadores.</p>
        </div>
        <div class="card-teorico">
          <h4>Invariantes del Objeto</h4>
          <p>Define condiciones que siempre deben ser ciertas (p. ej., saldo ‚â• 0). Garantiza estas condiciones mediante validaci√≥n en constructores y setters para mantener la integridad del objeto.</p>
        </div>
        <div class="card-teorico">
          <h4>Evita Acceso Directo a Datos</h4>
          <p>Nunca hagas p√∫blicos los atributos aunque no tengan setter. Usa getters/setters siempre. Esto permite cambiar la implementaci√≥n interna sin afectar a los consumidores del c√≥digo.</p>
        </div>
      </div>

    <section id="abstraccion">
      <h2>Abstracci√≥n</h2>
      <p><strong>Definici√≥n:</strong> La abstracci√≥n reduce la complejidad concentr√°ndose en los aspectos relevantes de un objeto para un contexto determinado. En Java se implementa con interfaces y clases abstractas que especifican contratos y comportamientos sin detallar la implementaci√≥n.</p>

      <h3>Abstract class vs Interface (cuando usar cada una)</h3>
      <ul>
        <li><strong>Interface:</strong> define un contrato puro; permite m√∫ltiples implementaciones; ideal para comportamientos que varias clases no relacionadas deben ofrecer.</li>
        <li><strong>Clase abstracta:</strong> √∫til cuando existe una relaci√≥n sem√°ntica (is-a) y se desea compartir c√≥digo com√∫n entre implementaciones.</li>
      </ul>

      <div class="figure">
        <svg class="svg-illustration" viewBox="0 0 700 160" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Abstracci√≥n - diagrama">
          <rect x="8" y="8" width="180" height="60" rx="10" fill="#eef6ff" stroke="#b7d7ff" />
          <text x="20" y="38" font-size="14" fill="#0f1724" font-weight="700">Drawable (interface)</text>

          <rect x="240" y="8" width="160" height="60" rx="10" fill="#fff7ed" stroke="#ffd7a7" />
          <text x="252" y="38" font-size="14" fill="#0f1724" font-weight="700">CanvasCircle</text>

          <rect x="480" y="8" width="160" height="60" rx="10" fill="#effaf5" stroke="#bff0d0" />
          <text x="492" y="38" font-size="14" fill="#0f1724" font-weight="700">SvgRectangle</text>

          <path d="M188 38 L240 38" stroke="#9aaed0" stroke-width="2" />
          <path d="M400 38 L480 38" stroke="#9aaed0" stroke-width="2" />
        </svg>
      </div>

      <h3>Ejemplo en Java (interfaz y uso)</h3>
      <pre><code class="language-java">public interface Pagable {
    double calcularPago();
}

public class Empleado implements Pagable {
    private String nombre;
    private double salario; // salario bruto

    public Empleado(String nombre, double salario) {
        this.nombre = nombre;
        this.salario = Math.max(0, salario);
    }

    public String getNombre() { return nombre; }
    public double getSalario() { return salario; }

    public void setSalario(double salario) {
        if (salario &gt;= 0) this.salario = salario;
    }

    @Override
    public double calcularPago() {
        // ejemplo simple: retenci√≥n del 10%
        return salario * 0.90;
    }
}
</code></pre>

      <p>Gracias a la abstracci√≥n, cualquier c√≥digo que dependa de <code>Pagable</code> puede trabajar con empleados, facturas u otros objetos que implementen el contrato sin conocer detalles internos.</p>

      <h3>Cards de Refuerzo: Abstracci√≥n</h3>
      <div class="cards-grid-teoricos">
        <div class="card-teorico">
          <h4>Clases Abstractas</h4>
          <p>Define comportamiento com√∫n compartido entre subclases relacionadas. Usa <code>abstract</code> para especificar contratos que las subclases deben implementar. Ideal cuando existe relaci√≥n "is-a" y deseas compartir c√≥digo funcional.</p>
        </div>
        <div class="card-teorico">
          <h4>Interfaces y Contratos</h4>
          <p>Una interfaz define un contrato puro sin implementaci√≥n. Permite m√∫ltiples implementaciones y desacoplamiento. Ideal para comportamientos que varias clases no relacionadas deben ofrecer de forma polim√≥rfica.</p>
        </div>
        <div class="card-teorico">
          <h4>Polimorfismo</h4>
          <p>Permite objetos de diferentes tipos responder al mismo mensaje de manera apropiada. Gracias a la abstracci√≥n, c√≥digo gen√©rico puede trabajar con muchos tipos distintos sin conocer detalles espec√≠ficos de cada implementaci√≥n.</p>
        </div>
      </div>

      <h3>C√≥mo usar Abstracci√≥n en la Pr√°ctica</h3>
      <div class="info-box">
        <ol>
          <li><strong>Identifica abstracciones comunes:</strong> observa qu√© comportamientos compartir√°n varias clases (p. ej., calcular, dibujar, procesar).</li>
          <li><strong>Define contratos con interfaces:</strong> crea interfaces que especifiquen qu√© m√©todos deben implementar las clases.</li>
          <li><strong>Usa clases abstractas para comportamiento com√∫n:</strong> cuando varias clases comparten c√≥digo e implementaci√≥n, usa una clase abstracta base.</li>
          <li><strong>Programa hacia abstracciones:</strong> depende de interfaces o clases abstractas, no de implementaciones concretas, para mayor flexibilidad.</li>
          <li><strong>Aplica polimorfismo:</strong> escribe c√≥digo que trabaje con tipos abstractos; en tiempo de ejecuci√≥n responder√°n diferente seg√∫n su tipo real.</li>
        </ol>
      </div>

      <h3>Buenas Pr√°cticas de Abstracci√≥n</h3>
      <div class="cards-grid-teoricos">
        <div class="card-teorico">
          <h4>Segregaci√≥n de Interfaces</h4>
          <p>Crea interfaces peque√±as y enfocadas en un √∫nico prop√≥sito. Evita interfaces "gordas" que obliguen a implementaciones innecesarias. Ejemplo: es mejor tener <code>Dibujable</code> y <code>Movible</code> separadas.</p>
        </div>
        <div class="card-teorico">
          <h4>Principio Abierto/Cerrado</h4>
          <p>Dise√±a clases e interfaces abiertas a extensi√≥n pero cerradas a modificaci√≥n. Nuevas implementaciones deben agregarse sin cambiar c√≥digo existente. Esto reduce riesgos de romper c√≥digo funcional.</p>
        </div>
        <div class="card-teorico">
          <h4>Principio de Sustituci√≥n de Liskov</h4>
          <p>Las subclases deben poder reemplazar a sus superclases sin romper el funcionamiento. Respeta el contrato de la clase base en tus implementaciones. Evita comportamientos inesperados.</p>
        </div>
        <div class="card-teorico">
          <h4>Entiende el Contexto de Uso</h4>
          <p>Abstrae solo lo relevante para el problema. Una abstracci√≥n demasiado gen√©rica es dif√≠cil de usar; una demasiado espec√≠fica reduce reutilizaci√≥n. Balance es clave.</p>
        </div>
        <div class="card-teorico">
          <h4>Evita Jerarqu√≠as Profundas</h4>
          <p>Mant√©n las jerarqu√≠as de herencia planas y simples. Jerarqu√≠as muy profundas son dif√≠ciles de entender y mantener. Si necesitas m√∫ltiples comportamientos, considera composici√≥n sobre herencia.</p>
        </div>
        <div class="card-teorico">
          <h4>Composici√≥n sobre Herencia</h4>
          <p>Cuando sea posible, prefiere composici√≥n (tener objetos) sobre herencia. Es m√°s flexible, evita el acoplamiento y permite cambiar comportamiento en tiempo de ejecuci√≥n.</p>
        </div>
      </div>

    <section id="ejercicio">
      <h2>Ejercicio pr√°ctico (resuelto)</h2>
      <p>Enunciado: crear <code>Empleado</code>, <code>Pagable</code> y una clase <code>Test</code> que muestre los pagos por consola. A continuaci√≥n la soluci√≥n completa y comentada.</p>

      <div class="solution">
        <h3>Soluci√≥n: c√≥digo Java</h3>
        <pre><code class="language-java">// Pagable.java
public interface Pagable {
    double calcularPago();
}

// Empleado.java
public class Empleado implements Pagable {
    private String nombre;
    private double salario; // salario bruto

    public Empleado(String nombre, double salario) {
        if (nombre == null || nombre.isBlank()) throw new IllegalArgumentException("Nombre inv√°lido");
        this.nombre = nombre;
        this.salario = Math.max(0, salario);
    }

    public String getNombre() { return nombre; }
    public double getSalario() { return salario; }

    public void setSalario(double salario) {
        if (salario &lt; 0) throw new IllegalArgumentException("Salario no puede ser negativo");
        this.salario = salario;
    }

    @Override
    public double calcularPago() {
        // ejemplo simple: descuento de 10% por retenciones
        return salario * 0.90;
    }
}

// Test.java
public class Test {
    public static void main(String[] args) {
        Empleado e1 = new Empleado("Ana", 1200);
        Empleado e2 = new Empleado("Luis", 950);
        Empleado e3 = new Empleado("Mar√≠a", 1500);

        Empleado[] empleados = { e1, e2, e3 };
        for (Empleado e : empleados) {
            System.out.printf("%s -> Salario bruto: %.2f, Pago neto: %.2f\n", e.getNombre(), e.getSalario(), e.calcularPago());
        }
    }
}
</code></pre>

        <h4>Explicaci√≥n:</h4>
        <p>La clase valida entrada en el constructor y en <code>setSalario</code>, lo que garantiza el estado v√°lido (encapsulaci√≥n). La interfaz <code>Pagable</code> abstrae el c√°lculo del pago; podr√≠amos implementar la interfaz para otros tipos de pagos (por ejemplo, <code>ContratoPorHoras</code>).</p>

        <h4>Salida esperada (ejemplo):</h4>
        <pre><code>Ana -> Salario bruto: 1200.00, Pago neto: 1080.00
Luis -> Salario bruto: 950.00, Pago neto: 855.00
Mar√≠a -> Salario bruto: 1500.00, Pago neto: 1350.00
</code></pre>
      </div>

      <p>Este ejemplo cubre tanto <strong>encapsulaci√≥n</strong> (control de acceso y validaciones) como <strong>abstracci√≥n</strong> (contrato <code>Pagable</code>).</p>
    </section>

    <section id="videos-educativos">
      <h2>Videos Educativos</h2>
      <div class="videos-grid">
        <div class="video-container">
          <h3>Encapsulamiento en la POO</h3>
          <div class="video-wrapper">
            <video controls width="100%" height="400" class="video-player">
              <source src="videos/ENCAPSULAMIENTO üíä en la POO.mp4" type="video/mp4">
              Tu navegador no soporta la reproducci√≥n de video. <a href="videos/ENCAPSULAMIENTO üíä en la POO.mp4" download>Descargar video</a>
            </video>
          </div>
          <p>Aprende los fundamentos de la encapsulaci√≥n: modificadores de acceso, getters y setters, y c√≥mo proteger la integridad de los datos.</p>
        </div>
        <div class="video-container">
          <h3>Abstracci√≥n - Clases y M√©todos Abstractos</h3>
          <div class="video-wrapper">
            <video controls width="100%" height="400" class="video-player">
              <source src="videos/121 . Curso de Java II POO II Abstracci√≥n - clases y m√©todos abstractos.mp4" type="video/mp4">
              Tu navegador no soporta la reproducci√≥n de video. <a href="videos/121 . Curso de Java II POO II Abstracci√≥n - clases y m√©todos abstractos.mp4" download>Descargar video</a>
            </video>
          </div>
          <p>Descubre c√≥mo usar clases abstractas e interfaces para simplificar la complejidad y crear c√≥digo m√°s flexible y mantenible.</p>
        </div>
      </div>
    </section>

    <p class="muted">Recursos adicionales: <a href="https://docs.oracle.com/javase/tutorial/java/IandI/" target="_blank" rel="noopener">Interfaces y Clases Abstractas (Oracle)</a> ‚Ä¢ <a href="https://www.geeksforgeeks.org/encapsulation-in-java/" target="_blank" rel="noopener">Encapsulation in Java (GeeksforGeeks)</a></p>

    <p><a href="index.html">Volver al inicio</a></p>
  </main>

  <footer class="site-footer">
    <p>&copy; P√°gina web POO 2026 - Todos los derechos reservados.</p>
  </footer>
  
  <script src="js/main.js" defer></script>
  <script>
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    
    function scrollToBottom() {
      window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
    }
    
    function scrollUp() {
      window.scrollBy({ top: -window.innerHeight * 0.8, behavior: 'smooth' });
    }
    
    function scrollDown() {
      window.scrollBy({ top: window.innerHeight * 0.8, behavior: 'smooth' });
    }
  </script>
</body>
</html>